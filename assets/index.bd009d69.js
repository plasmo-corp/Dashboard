var F=Object.defineProperty;var S=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var h=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&h(e,n,t[n]);if(S)for(var n of S(t))A.call(t,n)&&h(e,n,t[n]);return e};import{_ as I,m as T,d as $}from"./index.3c0b9368.js";import{h as z,k as B,i as y,r as p,o as D,b as E,K as N,e as i,g as a,A as m,D as U,F as V,v as q,u as w,d as s,E as k}from"./vendor.f6148a0a.js";const J={class:"juejin"},K={key:0,class:"logo"},M={key:1,class:"loading"},O={key:2,class:"error"},P={key:3,class:"list"},R={class:"title"},G=["href"],H={class:"like"},Q=z({props:{componentSetting:{type:Object,required:!0}},setup(e){const t=e,n=B(),j=y(()=>n.state.isLock),x="https://sf3-scmcdn2-tos.pstatp.com/xitu_juejin_web/img/logo.a7995ad.svg",g=p([]),r=p(!1),d=p(!1),v=async()=>{try{r.value=!0,d.value=!1;const l=await fetch(`${$}/api/juejinList?limit=${t.componentSetting.limit||10}`),{list:f}=await l.json();g.value=f.map(o=>({id:o.article_id,title:o.title,like:o.digg_count,view:o.view_count}))}catch(l){d.value=!0,console.error(l)}finally{r.value=!1}};let c;function u(){v(),c&&window.clearInterval(c),c=window.setInterval(()=>{v()},t.componentSetting.duration*60*1e3)}D(()=>u()),E(()=>window.clearInterval(c)),N(()=>[t.componentSetting.duration,t.componentSetting.limit],()=>u());const L=y(()=>T(t.componentSetting.position)),C=()=>{t.componentSetting.clickActionType===1?u():t.componentSetting.clickActionType===2&&window.open("https://juejin.cn/")};return(l,f)=>(s(),i("div",{class:"wrapper",style:m(_({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},w(L)))},[a("div",J,[e.componentSetting.showTitle!==!1?(s(),i("div",K,[a("img",{src:x,style:m({filter:`drop-shadow(${e.componentSetting.iconShadow})`,cursor:e.componentSetting.clickActionType?"pointer":"default"}),alt:"Juejin",onClick:C},null,4)])):U("",!0),r.value?(s(),i("div",M,"Loading...")):d.value?(s(),i("div",O,"Something error!")):(s(),i("div",P,[(s(!0),i(V,null,q(g.value,o=>(s(),i("div",{class:"list-item",key:o.id},[a("div",R,[a("a",{href:`https://juejin.cn/post/${o.id}`,target:"_blank",style:m(w(j)?"":"pointer-events: none")},k(o.title),13,G)]),a("div",H,"\u{1F44D}"+k(o.like),1)]))),128))]))])],4))}});var Z=I(Q,[["__scopeId","data-v-3560c0cb"]]);export{Z as default};
