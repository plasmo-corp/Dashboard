var be=Object.defineProperty,ke=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Qt=(t,e,n)=>e in t?be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e)=>{for(var n in e||(e={}))we.call(e,n)&&Qt(t,n,e[n]);if(Kt)for(var n of Kt(e))xe.call(e,n)&&Qt(t,n,e[n]);return t},te=(t,e)=>ke(t,_e(e));import{h as Ut,r as z,N as Se,i as G,K as De,m as K,d as h,x as tt,t as S,g as d,s as y,u as r,D,e as v,F as j,v as mt,L as et,E as Z,A as L,G as de,O as Rt,aa as $t,p as Zt,f as qt,k as Ee,l as Dt,n as Ce,o as Fe,b as Be,ak as Te,aj as ze,y as ee,z as Et}from"./vendor.f6148a0a.js";import{D as ne}from"./vuedraggable.umd.bb565331.js";import{a as At,b as Oe,c as Ne}from"./images.12f8151a.js";import{_ as jt,u as he,h as ie,d as $e,i as Ft,j as oe,k as J}from"./index.3c0b9368.js";import Ae from"./ActionPopover.d9d9f566.js";import"./direction.8b21c0ae.js";var V,E,o,rt,U=[],Ve=U.concat,_t=U.filter,ut=U.slice,O=window.document,Vt={},Pt={},Pe={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},Ht=/^\s*<(\w+|!)[^>]*>/,Le=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ae=/^(?:body|html)$/i,Me=/([A-Z])/g,Re=["val","css","html","text","data","width","height","offset"],He=["after","prepend","before","append"],Lt=O.createElement("table"),re=O.createElement("tr"),le={tr:O.createElement("tbody"),tbody:Lt,thead:Lt,tfoot:Lt,td:re,th:re,"*":O.createElement("div")},Je=/^[\w-]*$/,Wt={},Ue=Wt.toString,w={},Bt,Tt,se=O.createElement("div"),It={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},vt=Array.isArray||function(t){return t instanceof Array};w.matches=function(t,e){if(!e||!t||t.nodeType!==1)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,c=t.parentNode,u=!c;return u&&(c=se).appendChild(t),i=~w.qsa(c,e).indexOf(t),u&&se.removeChild(t),i};function wt(t){return t==null?String(t):Wt[Ue.call(t)]||"object"}function st(t){return wt(t)=="function"}function zt(t){return t!=null&&t==t.window}function Jt(t){return t!=null&&t.nodeType==t.DOCUMENT_NODE}function ft(t){return wt(t)=="object"}function kt(t){return ft(t)&&!zt(t)&&Object.getPrototypeOf(t)==Object.prototype}function Xt(t){var e=!!t&&"length"in t&&t.length,n=o.type(t);return n!="function"&&!zt(t)&&(n=="array"||e===0||typeof e=="number"&&e>0&&e-1 in t)}function Ze(t){return _t.call(t,function(e){return e!=null})}function qe(t){return t.length>0?o.fn.concat.apply([],t):t}Bt=function(t){return t.replace(/-+(.)?/g,function(e,n){return n?n.toUpperCase():""})};function bt(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}Tt=function(t){return _t.call(t,function(e,n){return t.indexOf(e)==n})};function ue(t){return t in Pt?Pt[t]:Pt[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function ce(t,e){return typeof e=="number"&&!Pe[bt(t)]?e+"px":e}function je(t){var e,n;return Vt[t]||(e=O.createElement(t),O.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),n=="none"&&(n="block"),Vt[t]=n),Vt[t]}function fe(t){return"children"in t?ut.call(t.children):o.map(t.childNodes,function(e){if(e.nodeType==1)return e})}function pe(t,e){var n,i=t?t.length:0;for(n=0;n<i;n++)this[n]=t[n];this.length=i,this.selector=e||""}w.fragment=function(t,e,n){var i,c,u;return Le.test(t)&&(i=o(O.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(Ie,"<$1></$2>")),e===V&&(e=Ht.test(t)&&RegExp.$1),e in le||(e="*"),u=le[e],u.innerHTML=""+t,i=o.each(ut.call(u.childNodes),function(){u.removeChild(this)})),kt(n)&&(c=o(i),o.each(n,function(x,k){Re.indexOf(x)>-1?c[x](k):c.attr(x,k)})),i};w.Z=function(t,e){return new pe(t,e)};w.isZ=function(t){return t instanceof w.Z};w.init=function(t,e){var n;if(t)if(typeof t=="string")if(t=t.trim(),t[0]=="<"&&Ht.test(t))n=w.fragment(t,RegExp.$1,e),t=null;else{if(e!==V)return o(e).find(t);n=w.qsa(O,t)}else{if(st(t))return o(O).ready(t);if(w.isZ(t))return t;if(vt(t))n=Ze(t);else if(ft(t))n=[t],t=null;else if(Ht.test(t))n=w.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==V)return o(e).find(t);n=w.qsa(O,t)}}else return w.Z();return w.Z(n,t)};o=function(t,e){return w.init(t,e)};function me(t,e,n){for(E in e)n&&(kt(e[E])||vt(e[E]))?(kt(e[E])&&!kt(t[E])&&(t[E]={}),vt(e[E])&&!vt(t[E])&&(t[E]=[]),me(t[E],e[E],n)):e[E]!==V&&(t[E]=e[E])}o.extend=function(t){var e,n=ut.call(arguments,1);return typeof t=="boolean"&&(e=t,t=n.shift()),n.forEach(function(i){me(t,i,e)}),t};w.qsa=function(t,e){var n,i=e[0]=="#",c=!i&&e[0]==".",u=i||c?e.slice(1):e,x=Je.test(u);return t.getElementById&&x&&i?(n=t.getElementById(u))?[n]:[]:t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11?[]:ut.call(x&&!i&&t.getElementsByClassName?c?t.getElementsByClassName(u):t.getElementsByTagName(e):t.querySelectorAll(e))};function Ct(t,e){return e==null?o(t):o(t).filter(e)}o.contains=O.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1};function Q(t,e,n,i){return st(e)?e.call(t,n,i):e}function Mt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function ct(t,e){var n=t.className||"",i=n&&n.baseVal!==V;if(e===V)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}function ve(t){try{return t&&(t=="true"||(t=="false"?!1:t=="null"?null:+t+""==t?+t:/^[\[\{]/.test(t)?o.parseJSON(t):t))}catch{return t}}o.type=wt;o.isFunction=st;o.isWindow=zt;o.isArray=vt;o.isPlainObject=kt;o.isEmptyObject=function(t){var e;for(e in t)return!1;return!0};o.isNumeric=function(t){var e=Number(t),n=typeof t;return t!=null&&n!="boolean"&&(n!="string"||t.length)&&!isNaN(e)&&isFinite(e)||!1};o.inArray=function(t,e,n){return U.indexOf.call(e,t,n)};o.camelCase=Bt;o.trim=function(t){return t==null?"":String.prototype.trim.call(t)};o.uuid=0;o.support={};o.expr={};o.noop=function(){};o.map=function(t,e){var n,i=[],c,u;if(Xt(t))for(c=0;c<t.length;c++)n=e(t[c],c),n!=null&&i.push(n);else for(u in t)n=e(t[u],u),n!=null&&i.push(n);return qe(i)};o.each=function(t,e){var n,i;if(Xt(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t};o.grep=function(t,e){return _t.call(t,e)};window.JSON&&(o.parseJSON=JSON.parse);o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Wt["[object "+e+"]"]=e.toLowerCase()});o.fn={constructor:w.Z,length:0,forEach:U.forEach,reduce:U.reduce,push:U.push,sort:U.sort,splice:U.splice,indexOf:U.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=w.isZ(e)?e.toArray():e;return Ve.apply(w.isZ(this)?this.toArray():this,n)},map:function(t){return o(o.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return o(ut.apply(this,arguments))},ready:function(t){if(O.readyState==="complete"||O.readyState!=="loading"&&!O.documentElement.doScroll)setTimeout(function(){t(o)},0);else{var e=function(){O.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),t(o)};O.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)}return this},get:function(t){return t===V?ut.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(t){return U.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return st(t)?this.not(this.not(t)):o(_t.call(this,function(e){return w.matches(e,t)}))},add:function(t,e){return o(Tt(this.concat(o(t,e))))},is:function(t){return typeof t=="string"?this.length>0&&w.matches(this[0],t):t&&this.selector==t.selector},not:function(t){var e=[];if(st(t)&&t.call!==V)this.each(function(i){t.call(this,i)||e.push(this)});else{var n=typeof t=="string"?this.filter(t):Xt(t)&&st(t.item)?ut.call(t):o(t);this.forEach(function(i){n.indexOf(i)<0&&e.push(i)})}return o(e)},has:function(t){return this.filter(function(){return ft(t)?o.contains(this,t):o(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!ft(t)?t:o(t)},last:function(){var t=this[this.length-1];return t&&!ft(t)?t:o(t)},find:function(t){var e,n=this;return t?typeof t=="object"?e=o(t).filter(function(){var i=this;return U.some.call(n,function(c){return o.contains(c,i)})}):this.length==1?e=o(w.qsa(this[0],t)):e=this.map(function(){return w.qsa(this,t)}):e=o(),e},closest:function(t,e){var n=[],i=typeof t=="object"&&o(t);return this.each(function(c,u){for(;u&&!(i?i.indexOf(u)>=0:w.matches(u,t));)u=u!==e&&!Jt(u)&&u.parentNode;u&&n.indexOf(u)<0&&n.push(u)}),o(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=o.map(n,function(i){if((i=i.parentNode)&&!Jt(i)&&e.indexOf(i)<0)return e.push(i),i});return Ct(e,t)},parent:function(t){return Ct(Tt(this.pluck("parentNode")),t)},children:function(t){return Ct(this.map(function(){return fe(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||ut.call(this.childNodes)})},siblings:function(t){return Ct(this.map(function(e,n){return _t.call(fe(n.parentNode),function(i){return i!==n})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return o.map(this,function(e){return e[t]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=""),getComputedStyle(this,"").getPropertyValue("display")=="none"&&(this.style.display=je(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=st(t);if(this[0]&&!e)var n=o(t).get(0),i=n.parentNode||this.length>1;return this.each(function(c){o(this).wrapAll(e?t.call(this,c):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){o(this[0]).before(t=o(t));for(var e;(e=t.children()).length;)t=e.first();o(t).append(this)}return this},wrapInner:function(t){var e=st(t);return this.each(function(n){var i=o(this),c=i.contents(),u=e?t.call(this,n):t;c.length?c.wrapAll(u):i.append(u)})},unwrap:function(){return this.parent().each(function(){o(this).replaceWith(o(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=o(this);(t===V?e.css("display")=="none":t)?e.show():e.hide()})},prev:function(t){return o(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return o(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;o(this).empty().append(Q(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=Q(this,t,e,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return typeof t=="string"&&!(1 in arguments)?0 in this&&this[0].nodeType==1&&(n=this[0].getAttribute(t))!=null?n:V:this.each(function(i){if(this.nodeType===1)if(ft(t))for(E in t)Mt(this,E,t[E]);else Mt(this,t,Q(this,e,i,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){this.nodeType===1&&t.split(" ").forEach(function(e){Mt(this,e)},this)})},prop:function(t,e){return t=It[t]||t,typeof t=="string"&&!(1 in arguments)?this[0]&&this[0][t]:this.each(function(n){if(ft(t))for(E in t)this[It[E]||E]=t[E];else this[t]=Q(this,e,n,this[t])})},removeProp:function(t){return t=It[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(Me,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return i!==null?ve(i):V},val:function(t){return 0 in arguments?(t==null&&(t=""),this.each(function(e){this.value=Q(this,t,e,this.value)})):this[0]&&(this[0].multiple?o(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(n){var i=o(this),c=Q(this,t,n,i.offset()),u=i.offsetParent().offset(),x={top:c.top-u.top,left:c.left-u.left};i.css("position")=="static"&&(x.position="relative"),i.css(x)});if(!this.length)return null;if(O.documentElement!==this[0]&&!o.contains(O.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,e){if(arguments.length<2){var n=this[0];if(typeof t=="string")return n?n.style[Bt(t)]||getComputedStyle(n,"").getPropertyValue(t):void 0;if(vt(t)){if(!n)return;var i={},c=getComputedStyle(n,"");return o.each(t,function(x,k){i[k]=n.style[Bt(k)]||c.getPropertyValue(k)}),i}}var u="";if(wt(t)=="string")!e&&e!==0?this.each(function(){this.style.removeProperty(bt(t))}):u=bt(t)+":"+ce(t,e);else for(E in t)!t[E]&&t[E]!==0?this.each(function(){this.style.removeProperty(bt(E))}):u+=bt(E)+":"+ce(E,t[E])+";";return this.each(function(){this.style.cssText+=";"+u})},index:function(t){return t?this.indexOf(o(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?U.some.call(this,function(e){return this.test(ct(e))},ue(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){rt=[];var n=ct(this),i=Q(this,t,e,n);i.split(/\s+/g).forEach(function(c){o(this).hasClass(c)||rt.push(c)},this),rt.length&&ct(this,n+(n?" ":"")+rt.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===V)return ct(this,"");rt=ct(this),Q(this,t,e,rt).split(/\s+/g).forEach(function(n){rt=rt.replace(ue(n)," ")}),ct(this,rt.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=o(this),c=Q(this,t,n,ct(this));c.split(/\s+/g).forEach(function(u){(e===V?!i.hasClass(u):e)?i.addClass(u):i.removeClass(u)})}):this},scrollTop:function(t){if(!!this.length){var e="scrollTop"in this[0];return t===V?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(!!this.length){var e="scrollLeft"in this[0];return t===V?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(!!this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=ae.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(o(t).css("margin-top"))||0,n.left-=parseFloat(o(t).css("margin-left"))||0,i.top+=parseFloat(o(e[0]).css("border-top-width"))||0,i.left+=parseFloat(o(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||O.body;t&&!ae.test(t.nodeName)&&o(t).css("position")=="static";)t=t.offsetParent;return t})}};o.fn.detach=o.fn.remove;["width","height"].forEach(function(t){var e=t.replace(/./,function(n){return n[0].toUpperCase()});o.fn[t]=function(n){var i,c=this[0];return n===V?zt(c)?c["inner"+e]:Jt(c)?c.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each(function(u){c=o(this),c.css(t,Q(this,n,u,c[t]()))})}});function ge(t,e){e(t);for(var n=0,i=t.childNodes.length;n<i;n++)ge(t.childNodes[n],e)}He.forEach(function(t,e){var n=e%2;o.fn[t]=function(){var i,c=o.map(arguments,function(k){var C=[];return i=wt(k),i=="array"?(k.forEach(function(N){if(N.nodeType!==V)return C.push(N);if(o.zepto.isZ(N))return C=C.concat(N.get());C=C.concat(w.fragment(N))}),C):i=="object"||k==null?k:w.fragment(k)}),u,x=this.length>1;return c.length<1?this:this.each(function(k,C){u=n?C:C.parentNode,C=e==0?C.nextSibling:e==1?C.firstChild:e==2?C:null;var N=o.contains(O.documentElement,u);c.forEach(function(a){if(x)a=a.cloneNode(!0);else if(!u)return o(a).remove();u.insertBefore(a,C),N&&ge(a,function(B){if(B.nodeName!=null&&B.nodeName.toUpperCase()==="SCRIPT"&&(!B.type||B.type==="text/javascript")&&!B.src){var A=B.ownerDocument?B.ownerDocument.defaultView:window;A.eval.call(A,B.innerHTML)}})})})},o.fn[n?t+"To":"insert"+(e?"Before":"After")]=function(i){return o(i)[t](this),this}});w.Z.prototype=pe.prototype=o.fn;w.uniq=Tt;w.deserializeValue=ve;o.zepto=w;var q=o;const Yt=t=>(Zt("data-v-7f0dcdd4"),t=t(),qt(),t),We=et("\u56FE\u6807"),Xe=et("\u6587\u4EF6\u5939"),Ye=et("\u4ECEChrome\u4E66\u7B7E\u5BFC\u5165"),Ge=["src"],Ke=["src"],Qe={key:3,class:"img-loading"},tn=["width","height"],en=Yt(()=>d("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),nn=Yt(()=>d("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),on=Yt(()=>d("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),an=[en,nn,on],rn={key:0,class:"transform-tips"},ln={key:1,class:"transform-bookmark-wrapper"},sn={key:0,class:"details"},un={key:1,class:"title"},cn={class:"footer",style:{"text-align":"right",padding:"12px"}},fn=["loading"],dn=Ut({props:{boxSize:String,boxRadius:String,iconSize:String},emits:["add","edit","import"],setup(t,{expose:e,emit:n}){const i=[{label:"API\u83B7\u53D6",value:"api"},{label:"\u6587\u5B57\u56FE\u6807",value:"text"},{label:"\u7F51\u7EDC\u56FE\u7247",value:"network"}],c=z(),u=z(),x=z(""),k=z(!0),C=z(!1),N=z(!1),a=Se({formData:{id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},formRules:{title:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u9898",trigger:"blur"}],url:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740",trigger:"blur"}],iconType:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u6807\u7C7B\u578B",trigger:"change"}],iconPath:[{validator:A,trigger:"blur"}]}}),B=z();function A(g,p,R){a.formData.iconType==="network"&&!p?R(new Error("\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740")):R()}const M=G(()=>a.formData.iconType==="api"&&x.value||a.formData.iconType==="network"&&a.formData.iconPath||a.formData.iconType==="text"&&a.formData.title),nt=()=>{var g;a.formData.url?(((g=a.formData.iconPath)==null?void 0:g.includes("data:image"))&&(a.formData.iconType="api",a.formData.iconPath=""),x.value=At(a.formData.url),fetch(`${$e}/api/title?url=${encodeURIComponent(a.formData.url.replace(/http(s)?:\/\//,""))}`).then(p=>p.json()).then(p=>{a.formData.title||(a.formData.title=p.title)})):x.value=""};De(()=>x.value,g=>{g?N.value=!0:N.value=!1});const gt=()=>{a.formData.iconType==="text"?a.formData.iconPath="rgba(48,50,56,1)":a.formData.iconPath="",a.formData.url&&a.formData.iconType==="api"&&(x.value=At(a.formData.url))},dt=()=>{u.value.validate(async g=>{if(g){if(C.value=!0,a.formData.type==="icon")try{if(k.value&&a.formData.iconType==="api"&&x.value&&a.formData.url){const p=await Oe(At(a.formData.url),"image/x-icon");a.formData.iconType="network",a.formData.iconPath=p}else a.formData.iconType==="api"&&x.value&&a.formData.url&&(a.formData.iconType="network",a.formData.iconPath=await Ne(a.formData.url))}catch{Rt({title:"\u63D0\u793A",type:"error",message:"\u65E0\u6CD5\u83B7\u53D6\u5230\u56FE\u6807\uFF0C\u4F7F\u7528\u6587\u5B57\u56FE\u6807\u4EE3\u66FF"}),a.formData.iconType="text",a.formData.iconPath="rgba(52,54,62,1)"}if(a.formData.type==="file"){if(!W.value||W.value.length===0)return;n("import",$t(W.value))}else a.formData.id?n("edit",St({},JSON.parse(JSON.stringify(a.formData))),$t(B.value)):(a.formData.id=Ft(),n("add",St({},JSON.parse(JSON.stringify(a.formData))),$t(B.value)));C.value=!1,xt()}else return!1})},it=(g,p)=>{C.value=!1,g&&(a.formData={id:g.id,type:g.type,title:g.title,url:g.url,iconType:g.iconType,iconPath:g.iconPath,bgColor:g.bgColor,children:g.children||[]}),p&&(B.value=p),c.value.open()},yt=()=>{u.value.resetFields(),x.value="",a.formData={id:"",type:"icon",title:"",url:"",iconType:"api",iconPath:"",bgColor:"rgba(241, 243, 244, 1)",children:[]},B.value=null,W.value=[]},xt=()=>{yt(),c.value.close()},ht=z(),W=z([]),Ot=()=>{ht.value.click(),ht.value.onchange=g=>{const p=()=>{Rt({title:"\u5F02\u5E38",type:"error",message:"\u8BC6\u522B\u6587\u4EF6\u9519\u8BEF\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6"})},R=g.currentTarget;if(R){const{files:pt}=R,P=new FileReader;P.readAsText(pt[0],"UTF-8"),P.onload=$=>{var I;const ot=(I=$.target)==null?void 0:I.result;try{const X=q(ot).children("dt").first().children("dl").children("dt"),at=[];X.map((b,H)=>{if(q(H).children().length===1){const s=q(H).children("a").text(),f=q(H).children("a").attr("href"),l=q(H).children("a").attr("icon");at.push({title:s,href:f,icon:l})}else if(q(H).children().length===3){const s=q(H).children("h3").text(),f=[];q(H).children("dl").children("dt").map((l,_)=>{if(q(_).children().length===1){const m=q(_).children("a").text(),F=q(_).children("a").attr("href"),T=q(_).children("a").attr("icon");f.push({title:m,href:F,icon:T})}}),at.push({title:s,children:f})}}),!at||at.length===0?p():W.value=at}catch{p()}},P.onerror=()=>p()}}};e({open:it,close:yt});const lt=he();return(g,p)=>{const R=K("el-radio"),pt=K("el-radio-group"),P=K("el-form-item"),$=K("el-input"),ot=K("Icon"),I=K("el-switch"),X=K("el-form"),at=K("animation-dialog");return h(),tt(at,de({ref_key:"dialog",ref:c,animationMode:"",title:r(a).formData.id?"\u7F16\u8F91\u4E66\u7B7E":"\u6DFB\u52A0\u4E66\u7B7E",width:"min(480px, 98vw)",height:"min(520px, 90vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:"",onClose:yt},r(lt),{customWrapperClass:"backdrop-blur bookmark-config-dialog"}),{footer:S(()=>[d("div",cn,[d("button",{type:"button",class:"btn",onClick:xt},"\u53D6\u6D88"),d("button",{type:"button",class:"btn btn-primary",loading:C.value,onClick:dt},"\u786E\u8BA4",8,fn)])]),default:S(()=>[y(X,{ref_key:"form",ref:u,"label-width":"100px",model:r(a).formData,rules:r(a).formRules},{default:S(()=>[y(P,{label:"\u7C7B\u578B"},{default:S(()=>[y(pt,{modelValue:r(a).formData.type,"onUpdate:modelValue":p[0]||(p[0]=b=>r(a).formData.type=b),disabled:!!r(a).formData.id},{default:S(()=>[y(R,{label:"icon"},{default:S(()=>[We]),_:1}),y(R,{label:"folder",disabled:!!B.value},{default:S(()=>[Xe]),_:1},8,["disabled"]),y(R,{label:"file",disabled:!!B.value},{default:S(()=>[Ye]),_:1},8,["disabled"])]),_:1},8,["modelValue","disabled"])]),_:1}),r(a).formData.type==="icon"?(h(),tt(P,{key:0,label:"\u7F51\u7AD9\u5730\u5740",prop:"url"},{default:S(()=>[y($,{modelValue:r(a).formData.url,"onUpdate:modelValue":p[1]||(p[1]=b=>r(a).formData.url=b),placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u5730\u5740",onBlur:nt},null,8,["modelValue"])]),_:1})):D("",!0),r(a).formData.type!=="file"?(h(),tt(P,{key:1,label:r(a).formData.type==="icon"?"\u7F51\u7AD9\u540D\u79F0":"\u6587\u4EF6\u5939\u540D\u79F0",prop:"title"},{default:S(()=>[y($,{modelValue:r(a).formData.title,"onUpdate:modelValue":p[2]||(p[2]=b=>r(a).formData.title=b),placeholder:r(a).formData.type==="icon"?"\u8BF7\u8F93\u5165\u7F51\u7AD9\u540D\u79F0":"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D\u79F0"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):D("",!0),r(a).formData.type==="icon"?(h(),v(j,{key:2},[y(P,{label:"\u7F51\u7AD9\u56FE\u6807",prop:"iconType"},{default:S(()=>[y(pt,{modelValue:r(a).formData.iconType,"onUpdate:modelValue":p[3]||(p[3]=b=>r(a).formData.iconType=b),onChange:gt},{default:S(()=>[(h(),v(j,null,mt(i,b=>y(R,{label:b.value,key:b.value},{default:S(()=>[et(Z(b.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),r(a).formData.iconType==="network"?(h(),tt(P,{key:0,label:"\u56FE\u6807\u5730\u5740",prop:"iconPath"},{default:S(()=>[y($,{modelValue:r(a).formData.iconPath,"onUpdate:modelValue":p[4]||(p[4]=b=>r(a).formData.iconPath=b),placeholder:"\u8BF7\u8F93\u5165\u56FE\u6807\u5730\u5740"},null,8,["modelValue"])]),_:1})):D("",!0),r(a).formData.iconType==="text"?(h(),tt(P,{key:1,label:"\u6587\u672C\u989C\u8272",prop:"iconPath"},{default:S(()=>[y(ie,{"show-alpha":"",modelValue:r(a).formData.iconPath,"onUpdate:modelValue":p[5]||(p[5]=b=>r(a).formData.iconPath=b)},null,8,["modelValue"])]),_:1})):D("",!0)],64)):D("",!0),r(a).formData.type!=="file"?(h(),v(j,{key:3},[y(P,{label:"\u80CC\u666F\u989C\u8272",prop:"bgColor"},{default:S(()=>[y(ie,{"show-alpha":"",modelValue:r(a).formData.bgColor,"onUpdate:modelValue":p[6]||(p[6]=b=>r(a).formData.bgColor=b)},null,8,["modelValue"])]),_:1}),y(P,{label:"\u56FE\u6807\u9884\u89C8"},{default:S(()=>{var b;return[d("div",{class:"icon-img-preview-box",style:L({width:t.boxSize,height:t.boxSize,borderRadius:t.boxRadius,background:r(a).formData.bgColor})},[r(a).formData.type==="icon"&&r(M)?(h(),v(j,{key:0},[r(a).formData.iconType==="network"?(h(),v("img",{key:0,src:r(a).formData.iconPath,style:L({width:t.iconSize,height:t.iconSize})},null,12,Ge)):D("",!0),r(a).formData.iconType==="api"&&x.value?(h(),v("img",{key:1,src:x.value,style:L({width:t.iconSize,height:t.iconSize}),onLoad:p[7]||(p[7]=H=>N.value=!1),onError:p[8]||(p[8]=H=>N.value=!1)},null,44,Ke)):D("",!0),r(a).formData.iconType==="text"?(h(),v("div",{key:2,style:L({fontSize:t.iconSize,color:r(a).formData.iconPath}),class:"no-icon"},Z((b=r(a).formData.title)==null?void 0:b.slice(0,1)),5)):D("",!0),N.value?(h(),v("div",Qe,[y(ot,{name:"loader-2",size:t.iconSize,class:"infinty-loading"},null,8,["size"])])):D("",!0)],64)):D("",!0),r(a).formData.type==="folder"?(h(),v("svg",{key:1,viewBox:"0 0 1124 1024",width:(t.iconSize||"32").replace("px",""),height:(t.iconSize||"32").replace("px","")},an,8,tn)):D("",!0)],4)]}),_:1})],64)):D("",!0),r(a).formData.type==="icon"?(h(),tt(P,{key:4,label:"\u7F13\u5B58\u56FE\u6807"},{default:S(()=>[y(I,{modelValue:k.value,"onUpdate:modelValue":p[9]||(p[9]=b=>k.value=b)},null,8,["modelValue"])]),_:1})):D("",!0),r(a).formData.type==="file"?(h(),tt(P,{key:5,label:"\u4E66\u7B7EHTML"},{default:S(()=>[d("button",{type:"button",class:"btn btn-warning",onClick:Ot},"\u5BFC\u5165\u6587\u4EF6"),d("input",{type:"file",accept:".html",style:{display:"none"},ref_key:"htmlRef",ref:ht},null,512),W.value.length?(h(),v("div",rn,"\u89E3\u6790\u4E66\u7B7E\u6587\u4EF6\u6210\u529F\uFF0C\u89E3\u6790\u7ED3\u679C\u5982\u4E0B")):D("",!0),W.value.length?(h(),v("div",ln,[(h(!0),v(j,null,mt(W.value,(b,H)=>(h(),v(j,{key:H},[b.children?(h(),v("details",sn,[d("summary",null,Z(b.title),1),(h(!0),v(j,null,mt(b.children,(s,f)=>(h(),v("div",{key:f,class:"sub-title"},Z(s.title),1))),128))])):(h(),v("div",un,Z(b.title),1))],64))),128))])):D("",!0)]),_:1})):D("",!0)]),_:1},8,["model","rules"])]),_:1},16,["title"])}}});var hn=jt(dn,[["__scopeId","data-v-7f0dcdd4"]]);const ye=t=>(Zt("data-v-5d2b3214"),t=t(),qt(),t),pn=ye(()=>d("div",{class:"folder-wrapper"},[d("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[d("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),d("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),d("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})]),d("div",{class:"folder-name"},"__ROOT__")],-1)),mn={class:"folder-wrapper"},vn=ye(()=>d("svg",{viewBox:"0 0 1124 1024",width:"20",height:"20"},[d("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"}),d("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"}),d("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"})],-1)),gn={class:"folder-name"},yn=Ut({props:{folderList:{type:Array,default:()=>[]}},setup(t,{expose:e}){const n=z(),i=z(!1);let c,u;const x=A=>(n.value.open(),i.value=!!A,new Promise((M,nt)=>{c=M,u=nt})),k=z("$root"),C=()=>{n.value.close()},N=()=>{u()},a=()=>{!k.value||(c(k.value),C())};e({move:x});const B=he();return(A,M)=>{const nt=K("el-radio"),gt=K("el-radio-group"),dt=K("animation-dialog");return h(),tt(dt,de({ref_key:"dialog",ref:n,animationMode:"",title:"\u9009\u62E9\u6587\u4EF6\u5939",width:"min(280px, 90vw)",height:"min(320px, 60vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:"",onClose:N},r(B),{customWrapperClass:"bookmark-move-dialog"}),{footer:S(()=>[d("div",{class:"footer",style:{"text-align":"right",padding:"12px"}},[d("button",{type:"button",class:"btn",onClick:C},"\u53D6\u6D88"),d("button",{type:"button",class:"btn btn-primary",onClick:a},"\u786E\u8BA4")])]),default:S(()=>[y(gt,{modelValue:k.value,"onUpdate:modelValue":M[0]||(M[0]=it=>k.value=it)},{default:S(()=>[i.value?(h(),tt(nt,{key:0,label:"$root"},{default:S(()=>[pn]),_:1})):D("",!0),(h(!0),v(j,null,mt(t.folderList,it=>(h(),tt(nt,{label:it.id,key:it.id},{default:S(()=>[d("div",mn,[vn,d("div",gn,Z(it.title),1)])]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1},16)}}});var bn=jt(yn,[["__scopeId","data-v-5d2b3214"]]);const Gt=t=>(Zt("data-v-33e5347e"),t=t(),qt(),t),kn=["onClick"],_n=["src"],wn=["width","height"],xn=Gt(()=>d("path",{d:"M948.079775 106.337352H460.223099S394.153465 1.788394 355.688563 1.788394H181.435493a69.68969 69.68969 0 0 0-69.68969 69.704113v801.474704a69.718535 69.718535 0 0 0 69.68969 69.68969h766.629859a69.718535 69.718535 0 0 0 69.68969-69.68969V176.027042a69.718535 69.718535 0 0 0-69.68969-69.68969z",fill:"#D0994B"},null,-1)),Sn=Gt(()=>d("path",{d:"M111.745803 210.871887h906.023662v278.787606H111.745803z",fill:"#E4E7E7"},null,-1)),Dn=Gt(()=>d("path",{d:"M76.900958 280.561577h975.713352a69.68969 69.68969 0 0 1 69.704113 69.704113L1052.628732 942.656901a69.718535 69.718535 0 0 1-69.704112 69.689691H146.60507a69.718535 69.718535 0 0 1-69.704112-69.689691L7.211268 350.26569a69.68969 69.68969 0 0 1 69.68969-69.704113z",fill:"#F4B459"},null,-1)),En=[xn,Sn,Dn],Cn={class:"tile-title"},Fn={key:0,class:"selected-icon"},Bn={class:"btn-add-wrapper"},Tn={key:0,class:"popover-wrapper"},zn={class:"title"},On=["onClick"],Nn=["src"],$n={key:0,class:"selected-icon"},An={key:0,class:"batch-operation-wrapper"},Vn={class:"selected-count"},Pn={class:"num"},Ln=et("\u9879\u5DF2\u9009\u62E9"),In={class:"operation-btn-wrapper"},Mn=et(" \u79FB\u52A8"),Rn=et(" \u5220\u9664"),Hn={key:0,class:"batch-operation-wrapper"},Jn={class:"selected-count"},Un={class:"num"},Zn=et("\u9879\u5DF2\u9009\u62E9"),qn={class:"operation-btn-wrapper"},jn=et(" \u79FB\u52A8"),Wn=et(" \u5220\u9664"),Xn=Ut({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0},isAction:{type:Boolean,default:!1}},setup(t){const e=t;ze(s=>({"3f90cc7c":r(a),"2817b59e":r(B),"73ef84d7":r(u),"33f233e8":r(x),"5875290f":r(k),"6ac4709c":r(C),"6b4d603e":r(N)}));const n=te(St({},oe),{updated:oe.mounted}),i=z(),c=G(()=>A.state.isLock),u=G(()=>e.componentSetting.boxSize+"px"),x=G(()=>e.componentSetting.boxRadius+"px"),k=G(()=>e.componentSetting.iconSize+"px"),C=G(()=>e.componentSetting.textFontSize+"px"),N=G(()=>e.componentSetting.textColor),a=G(()=>e.componentSetting.padding+"px"),B=G(()=>`${e.componentSetting.boxSize+e.componentSetting.textFontSize*1.5+e.componentSetting.padding*2+8}px`),A=Ee(),M=G({get:()=>e.componentSetting.bookmark,set:s=>{const f=JSON.parse(JSON.stringify(e.element));e.isAction?(f.componentSetting.actionClickValue.componentSetting.bookmark=s,A.dispatch("updateActionElement",f)):f.componentSetting.bookmark=s,A.dispatch("editComponent",f)}}),nt=z([{label:"\u7F16\u8F91",fn:s=>{gt(s.element,s.parent)},icon:Dt(J,{name:"lock",size:18})},{label:"\u79FB\u52A8",fn:s=>{lt([s.element],!1,s.parent)},hidden:s=>s.element.type==="folder",icon:Dt(J,{name:"send-plane",size:18})},{label:"\u5220\u9664",fn:s=>{lt([s.element],!0,s.parent)},icon:Dt(J,{name:"delete",size:18}),customClass:"delete"},{line:!0},{label:"\u6279\u91CF\u64CD\u4F5C",icon:Dt(J,{name:"checkbox-multiple",size:18}),fn:s=>{at(s.parent)}}]),gt=(s,f)=>i.value.open(s,f),dt=s=>i.value.open(null,s),it=(s,f)=>{const l=JSON.parse(JSON.stringify(e.element)),_=e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(f){const m=_.findIndex(F=>F.id===f.id);~m&&_[m].children.push(s)}else _.push(s);A.dispatch("editComponent",l),f&&R()},yt=async(s,f)=>{const l=JSON.parse(JSON.stringify(e.element)),_=e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark;if(f){const m=_.findIndex(T=>T.id===f.id);if(!~m)return;const F=_[m].children.findIndex(T=>T.id===s.id);~F&&(_[m].children[F]=s)}else{const m=_.findIndex(F=>F.id===s.id);~m&&(_[m]=s)}A.dispatch("editComponent",l),f&&R()},xt=s=>{const f=s.map(m=>m.children?(m.children=m.children.map(F=>({bgColor:"rgba(241, 243, 244, 1)",iconPath:F.icon||"rgba(48,50,56,1)",iconType:F.icon?"network":"text",id:Ft(),title:F.title,type:"icon",url:F.href})),{bgColor:"rgba(241, 243, 244, 1)",children:m.children,iconPath:"",iconType:"api",id:Ft(),title:m.title,type:"folder",url:""}):{bgColor:"rgba(241, 243, 244, 1)",children:[],iconPath:m.icon||"rgba(48,50,56,1)",iconType:m.icon?"network":"text",id:Ft(),title:m.title,type:"icon",url:m.href}),l=JSON.parse(JSON.stringify(e.element));(e.isAction?l.componentSetting.actionClickValue.componentSetting.bookmark:l.componentSetting.bookmark).push(...f),A.dispatch("editComponent",l)},ht=(s,f)=>{if($.value){const l=X.value.findIndex(_=>_===s.id);~l?(I.value.splice(l,1),X.value.splice(l,1)):(I.value.push(s),X.value.push(s.id))}else if(s.type==="icon"){let l=s.url;/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(l)||(l="https://"+l),e.componentSetting.jumpType===2?window.location.href=l:window.open(l)}else s.type==="folder"&&(p.value.defaultOpen({w:Math.min(720,window.innerWidth*.9),h:Math.min(400,window.innerHeight*.75),direction:0},f.currentTarget),g.value=s)},W=z(),Ot=G(()=>M.value.filter(s=>s.type==="folder")),lt=async(s,f=!1,l)=>{if(!(!s||s.length===0))try{const _=JSON.parse(JSON.stringify(e.element)),m=e.isAction?_.componentSetting.actionClickValue.componentSetting.bookmark:_.componentSetting.bookmark;if(f){if(!confirm("\u786E\u8BA4\u8981\u5220\u9664\u6240\u9009\u9879?"))return}else{const F=await W.value.move(l);if(F===(l==null?void 0:l.id))return;if(s.filter(T=>T.type==="folder").length&&(Rt({title:"\u63D0\u793A",message:"\u76EE\u524D\u6682\u4E0D\u652F\u6301\u79FB\u52A8\u6587\u4EF6\u5939"}),s=s.filter(T=>T.type!=="folder")),F==="$root")s.map(T=>{~m.findIndex(Y=>Y.id===T.id)||m.push(T)});else{const T=m.findIndex(Y=>Y.id===F);~T&&s.map(Y=>{~m[T].children.findIndex(Nt=>Nt.id===Y.id)||m[T].children.push(Y)})}}if(l){const F=m.findIndex(T=>T.id===l.id);s.map(T=>{const Y=m[F].children.findIndex(Nt=>Nt.id===T.id);~Y&&m[F].children.splice(Y,1)})}else s.map(F=>{const T=m.findIndex(Y=>Y.id===F.id);~T&&m.splice(T,1)});e.isAction&&A.dispatch("updateActionElement",_),A.dispatch("editComponent",_),l&&R(),$.value&&($.value=!1,I.value=[],X.value=[])}catch(_){console.error(_),console.log("Cancel Move")}},g=z(),p=z(),R=async()=>{await Ce();const s=M.value.findIndex(f=>{var l;return f.id===((l=g.value)==null?void 0:l.id)});~s&&(g.value=M.value[s])},pt=()=>{var _;const s=JSON.parse(JSON.stringify(e.element)),f=e.isAction?s.componentSetting.actionClickValue.componentSetting.bookmark:s.componentSetting.bookmark,l=M.value.findIndex(m=>{var F;return m.id===((F=g.value)==null?void 0:F.id)});f[l].children=(_=g.value)==null?void 0:_.children,A.dispatch("editComponent",s)},P=()=>{g.value=null},$=z(!1),ot=z(),I=z([]),X=z([]),at=s=>{$.value=!0,ot.value=s},b=()=>{$.value=!1,I.value.length=0,X.value.length=0},H=s=>{$.value&&(b(),s.preventDefault(),document.oncontextmenu=f=>f.preventDefault())};return Fe(()=>document.addEventListener("contextmenu",H)),Be(()=>document.removeEventListener("contextmenu",H)),(s,f)=>(h(),v("div",{class:"wrapper",style:L({fontSize:t.componentSetting.textFontSize+"px",color:t.componentSetting.textColor,padding:t.componentSetting.padding+"px"})},[d("div",{class:"bookmark-wrapper",style:L({maxWidth:`${t.componentSetting.maxWidth||880}px`,pointerEvents:r(c)?"all":"none"})},[y(r(ne),{modelValue:r(M),"onUpdate:modelValue":f[1]||(f[1]=l=>Te(M)?M.value=l:null),class:"bookmark-draggable-wrapper","item-key":"id"},{item:S(({element:l,index:_})=>[ee((h(),v("div",{class:Et(["item"]),onClick:m=>ht(l,m)},[d("div",{class:Et(["tile-icon",$.value&&!ot.value&&"bounce-icon"]),style:L({background:l.bgColor,boxShadow:t.componentSetting.boxShadow})},[l.type!=="folder"?(h(),v(j,{key:0},[l.iconType==="network"?(h(),v("img",{key:0,src:l.iconPath,alt:""},null,8,_n)):D("",!0),l.iconType==="text"?(h(),v("div",{key:1,style:L({fontSize:r(k),color:l.iconPath}),class:"no-icon"},Z(l.title.slice(0,1)),5)):D("",!0)],64)):(h(),v("svg",{key:1,viewBox:"0 0 1124 1024",width:(r(k)||"32").replace("px",""),height:(r(k)||"32").replace("px","")},En,8,wn))],6),d("div",Cn,Z(l.title),1),X.value.includes(l.id)?(h(),v("div",Fn,[y(J,{name:"check",size:"30"})])):D("",!0)],8,kn)),[[n,{disabled:()=>$.value,params:{element:l,index:_},menuList:nt.value,width:120,iconType:"vnode-icon"}]])]),footer:S(()=>[$.value?D("",!0):(h(),v("div",{key:0,class:"item",onClick:f[0]||(f[0]=l=>dt())},[d("div",Bn,[y(J,{name:"add"})])])),(h(),v(j,null,mt(20,l=>d("div",{class:"item fake",key:l})),64))]),_:1},8,["modelValue"])],4),y(hn,{ref_key:"configDialog",ref:i,boxSize:r(u),boxRadius:r(x),iconSize:r(k),onAdd:it,onEdit:yt,onImport:xt},null,8,["boxSize","boxRadius","iconSize"]),y(bn,{ref_key:"moveDialog",ref:W,folderList:r(Ot)},null,8,["folderList"]),y(Ae,{ref_key:"popover",ref:p,"close-on-click-outside":!!t.componentSetting.closeClickOutside,onClosed:P},{default:S(()=>[g.value?(h(),v("div",Tn,[d("div",zn,Z(g.value.title),1),y(r(ne),{modelValue:g.value.children,"onUpdate:modelValue":f[3]||(f[3]=l=>g.value.children=l),class:"bookmark-draggable-wrapper","item-key":"id",onEnd:pt},{item:S(({element:l,index:_})=>[ee((h(),v("div",{class:Et(["item"]),style:L({width:r(B),height:r(B),padding:r(a)}),onClick:m=>ht(l)},[d("div",{class:Et(["tile-icon",$.value&&ot.value&&"bounce-icon"]),style:L({background:l.bgColor,boxShadow:t.componentSetting.boxShadow,width:r(u),height:r(u),borderRadius:r(x)})},[l.type!=="folder"?(h(),v(j,{key:0},[l.iconType==="network"?(h(),v("img",{key:0,style:L({width:r(k),height:r(k)}),src:l.iconPath,alt:""},null,12,Nn)):D("",!0),l.iconType==="text"?(h(),v("div",{key:1,style:L({fontSize:r(k),color:l.iconPath}),class:"no-icon"},Z(l.title.slice(0,1)),5)):D("",!0)],64)):D("",!0)],6),d("div",{class:"tile-title",style:L({fontSize:r(C),color:r(N)})},Z(l.title),5),X.value.includes(l.id)?(h(),v("div",$n,[y(J,{name:"check",size:"30"})])):D("",!0)],12,On)),[[n,{params:{element:l,index:_,parent:g.value},menuList:nt.value,width:120,iconType:"vnode-icon"}]])]),footer:S(()=>[$.value?D("",!0):(h(),v("div",{key:0,class:"item",style:L({width:r(B),height:r(B),padding:r(a)}),onClick:f[2]||(f[2]=l=>dt(g.value))},[d("div",{class:"btn-add-wrapper",style:L({color:r(N),border:`2px dashed ${r(N)}`})},[y(J,{name:"add"})],4)],4)),(h(),v(j,null,mt(20,l=>d("div",{class:"item fake",style:L({width:r(B),padding:`0 ${r(a)}`}),key:l},null,4)),64))]),_:1},8,["modelValue"]),$.value&&ot.value?(h(),v("div",An,[d("div",{class:"close-btn",onClick:b},[y(J,{name:"close"})]),d("div",Vn,[d("span",Pn,Z(I.value.length),1),Ln]),d("div",In,[d("div",{class:"move-btn",onClick:f[4]||(f[4]=l=>lt(I.value,!1,g.value))},[y(J,{name:"send-plane",size:"16"}),Mn]),d("div",{class:"del-btn",onClick:f[5]||(f[5]=l=>lt(I.value,!0,g.value))},[y(J,{name:"delete",size:"16"}),Rn])])])):D("",!0)])):D("",!0)]),_:1},8,["close-on-click-outside"]),$.value&&!ot.value?(h(),v("div",Hn,[d("div",{class:"close-btn",onClick:b},[y(J,{name:"close"})]),d("div",Jn,[d("span",Un,Z(I.value.length),1),Zn]),d("div",qn,[d("div",{class:"move-btn",onClick:f[6]||(f[6]=l=>lt(I.value))},[y(J,{name:"send-plane",size:"16"}),jn]),d("div",{class:"del-btn",onClick:f[7]||(f[7]=l=>lt(I.value,!0))},[y(J,{name:"delete",size:"16"}),Wn])])])):D("",!0)],4))}});var ii=jt(Xn,[["__scopeId","data-v-33e5347e"]]);export{ii as default};
