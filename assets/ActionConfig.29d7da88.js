var P=Object.defineProperty,Z=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var N=(i,u,r)=>u in i?P(i,u,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[u]=r,g=(i,u)=>{for(var r in u||(u={}))G.call(u,r)&&N(i,r,u[r]);if(A)for(var r of A(u))X.call(u,r)&&N(i,r,u[r]);return i},b=(i,u)=>Z(i,W(u));import{h as H,k as K,r as O,N as j,K as q,x as p,t as c,G as Q,u as o,m as k,d as m,g as e,s as n,D as F,e as U,B as v,F as Y,v as $,p as tt,f as ot,aa as J}from"./vendor.f6148a0a.js";import{_ as at,S as C,u as et,c as z,T as lt,a as nt,M as it,B as ut,b as st}from"./index.3c0b9368.js";import{d as ct}from"./direction.8b21c0ae.js";const f=i=>(tt("data-v-34a242bd"),i=i(),ot(),i),rt={key:0,class:"action-component-setting"},dt=f(()=>e("div",{class:"title"},"Toggle\u7EC4\u4EF6\u914D\u7F6E",-1)),mt={class:"flex-center-y"},ft={class:"form-row-control"},pt=f(()=>e("div",{class:"label"},"Width",-1)),Ct={class:"content"},_t=f(()=>e("span",{class:"unit"},"PX",-1)),Dt={class:"form-row-control"},kt=f(()=>e("div",{class:"label"},"Height",-1)),Vt={class:"content"},gt=f(()=>e("span",{class:"unit"},"PX",-1)),bt={class:"form-row-control"},Ft=f(()=>e("div",{class:"label"},"\u65B9\u5411",-1)),vt={class:"content"},yt={class:"form-row-control"},ht=f(()=>e("div",{class:"label"},"\u9634\u5F71",-1)),Et={class:"content"},St={class:"form-row-control"},wt=f(()=>e("div",{class:"label"},"\u5706\u89D2",-1)),xt={class:"content"},Tt=f(()=>e("span",{class:"font-control"},"px",-1)),Bt={class:"component-detail-setting"},At=f(()=>e("div",{class:"label"},"\u7EC4\u4EF6\u914D\u7F6E",-1)),Nt={class:"content"},Ot=H({setup(i,{expose:u}){const r={actionType:0,actionClickType:1,actionClickValue:{url:"",material:"Empty",w:375,h:400,background:"rgba(255, 255, 255, 0.95)",backgroundFilter:"brightness(0.8)",direction:0,boxShadow:"0 0 4px #89909c",borderRadius:4,componentSetting:JSON.parse(JSON.stringify(C.Empty.formData))}},y=K(),h=O(),x=O(),t=j({formData:JSON.parse(JSON.stringify(r)),actionClickFormConf:{}});let _,E=!1;const I=s=>{_=s,s.actionSetting&&s.actionSetting.actionType?t.formData=JSON.parse(JSON.stringify(s.actionSetting)):t.formData=JSON.parse(JSON.stringify(r));const a=t.formData.actionClickValue.material;t.actionClickFormConf=z(typeof C[a].formConf=="function"?C[a].formConf(t.formData.actionClickValue.componentSetting):C[a].formConf),h.value.open(),setTimeout(()=>{E=!0})},V=()=>{h.value.close(),E=!1};q(()=>t.formData.actionClickValue.material,()=>{var s,a;if(E){if(((a=(s=_==null?void 0:_.actionSetting)==null?void 0:s.actionClickValue)==null?void 0:a.material)===t.formData.actionClickValue.material)return;const d=t.formData.actionClickValue.material;t.formData.actionClickValue.componentSetting=JSON.parse(JSON.stringify(C[d].formData)),t.actionClickFormConf=z(typeof C[d].formConf=="function"?C[d].formConf(t.formData.actionClickValue.componentSetting):C[d].formConf)}});const R=()=>{if(t.formData.actionType){if(t.formData.actionClickType===1)x.value.validate(s=>{if(s){const a=b(g({},_),{actionSetting:J(t.formData)});y.dispatch("editComponent",a),V()}else return!1});else if(t.formData.actionClickType===2)if(/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(t.formData.actionClickValue.url)){/https?:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/.test(t.formData.actionClickValue.url)||(t.formData.actionClickValue.url="https://"+t.formData.actionClickValue.url);const s=b(g({},_),{actionSetting:J(t.formData)});y.dispatch("editComponent",s),V()}else alert("\u8DF3\u8F6C\u76EE\u6807URL\u4E0D\u5408\u6CD5")}else{const s=b(g({},_),{actionSetting:null});y.dispatch("editComponent",s),V()}},L=et();return u({open:I,close:V}),(s,a)=>{const d=k("el-option"),S=k("el-select"),D=k("el-form-item"),T=k("el-input"),B=k("el-form"),w=k("el-input-number"),M=k("animation-dialog");return m(),p(M,Q({ref_key:"dialog",ref:h,animationMode:"",title:"\u7EC4\u4EF6\u4EA4\u4E92\u914D\u7F6E",width:"min(480px, 98vw)",height:"min(520px, 90vh)",closeOnClickOutside:!1,listenWindowSizeChange:!0,appendToBody:""},o(L)),{footer:c(()=>[e("div",{class:"footer",style:{"text-align":"right",padding:"12px"}},[e("button",{type:"button",class:"btn",onClick:V},"\u53D6\u6D88"),e("button",{type:"button",class:"btn btn-primary",onClick:R},"\u786E\u8BA4")])]),default:c(()=>[e("div",null,[n(B,null,{default:c(()=>[n(D,{label:"\u4EA4\u4E92\u884C\u4E3A"},{default:c(()=>[n(S,{modelValue:o(t).formData.actionType,"onUpdate:modelValue":a[0]||(a[0]=l=>o(t).formData.actionType=l)},{default:c(()=>[n(d,{label:"\u65E0",value:0}),n(d,{label:"\u9F20\u6807\u70B9\u51FB",value:1})]),_:1},8,["modelValue"])]),_:1}),o(t).formData.actionType===1?(m(),p(D,{key:0,label:"\u9F20\u6807\u70B9\u51FB"},{default:c(()=>[n(S,{modelValue:o(t).formData.actionClickType,"onUpdate:modelValue":a[1]||(a[1]=l=>o(t).formData.actionClickType=l)},{default:c(()=>[n(d,{label:"\u663E\u793A\u65B0\u7EC4\u4EF6(Toggle)",value:1}),n(d,{label:"\u8DF3\u8F6C\u94FE\u63A5",value:2}),n(d,{label:"\u8FD0\u884CJavascript\u811A\u672C",value:3,disabled:""})]),_:1},8,["modelValue"])]),_:1})):F("",!0),o(t).formData.actionType===1&&o(t).formData.actionClickType===2?(m(),p(D,{key:1},{default:c(()=>[n(T,{modelValue:o(t).formData.actionClickValue.url,"onUpdate:modelValue":a[2]||(a[2]=l=>o(t).formData.actionClickValue.url=l),placeholder:"\u8BF7\u8F93\u5165\u4E00\u4E2A\u53EF\u7528\u7684\u8DF3\u8F6C\u94FE\u63A5"},null,8,["modelValue"])]),_:1})):F("",!0)]),_:1}),o(t).formData.actionType===1&&o(t).formData.actionClickType===1?(m(),U("div",rt,[dt,n(B,{ref:"componentSettingForm",class:"setting-form1","label-position":"top"},{default:c(()=>[n(D,{label:"\u7269\u6599\u7EC4\u4EF6"},{default:c(()=>[e("div",mt,[(m(),p(v(it),{modelValue:o(t).formData.actionClickValue.material,"onUpdate:modelValue":a[3]||(a[3]=l=>o(t).formData.actionClickValue.material=l)},null,8,["modelValue"])),n(lt,{content:"\u66F4\u6362\u7269\u6599\u4F1A\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u914D\u7F6E\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C"})])]),_:1}),n(D,{label:"\u5C3A\u5BF8"},{default:c(()=>[e("div",ft,[pt,e("div",Ct,[n(w,{modelValue:o(t).formData.actionClickValue.w,"onUpdate:modelValue":a[4]||(a[4]=l=>o(t).formData.actionClickValue.w=l),"controls-position":"right",min:40,max:1920,style:{width:"100px"}},null,8,["modelValue"]),_t])]),e("div",Dt,[kt,e("div",Vt,[n(w,{modelValue:o(t).formData.actionClickValue.h,"onUpdate:modelValue":a[5]||(a[5]=l=>o(t).formData.actionClickValue.h=l),"controls-position":"right",min:40,max:1920,style:{width:"100px"}},null,8,["modelValue"]),gt])])]),_:1}),n(D,{label:"Popover\u914D\u7F6E"},{default:c(()=>[e("div",bt,[Ft,e("div",vt,[n(S,{modelValue:o(t).formData.actionClickValue.direction,"onUpdate:modelValue":a[6]||(a[6]=l=>o(t).formData.actionClickValue.direction=l)},{default:c(()=>[(m(!0),U(Y,null,$(o(ct),l=>(m(),p(d,{label:l.label,value:l.value,key:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),e("div",yt,[ht,e("div",Et,[n(T,{style:{width:"100%"},modelValue:o(t).formData.actionClickValue.boxShadow,"onUpdate:modelValue":a[7]||(a[7]=l=>o(t).formData.actionClickValue.boxShadow=l),clearable:"",placeholder:"\u8BF7\u8F93\u5165box-shadow\u503C"},null,8,["modelValue"])])]),e("div",St,[wt,e("div",xt,[n(w,{modelValue:o(t).formData.actionClickValue.borderRadius,"onUpdate:modelValue":a[8]||(a[8]=l=>o(t).formData.actionClickValue.borderRadius=l),"controls-position":"right",min:0,max:100,style:{width:"100px"}},null,8,["modelValue"]),Tt])])]),_:1}),n(D,{label:"\u80CC\u666F"},{default:c(()=>[(m(),p(v(ut),{background:o(t).formData.actionClickValue.background,"onUpdate:background":a[9]||(a[9]=l=>o(t).formData.actionClickValue.background=l),w:o(t).formData.actionClickValue.w,h:o(t).formData.actionClickValue.h,positionMode:2},null,8,["background","w","h"])),o(t).formData.actionClickValue.background.includes("url")?(m(),p(v(st),{key:0,filter:o(t).formData.actionClickValue.backgroundFilter,"onUpdate:filter":a[10]||(a[10]=l=>o(t).formData.actionClickValue.backgroundFilter=l)},null,8,["filter"])):F("",!0)]),_:1})]),_:1},512),e("div",Bt,[At,e("div",Nt,[(m(),p(v(o(nt)),{formData:o(t).formData.actionClickValue.componentSetting,formConf:o(t).actionClickFormConf,ref_key:"componentDetailForm",ref:x,"label-width":"100px"},null,8,["formData","formConf"]))])])])):F("",!0)])]),_:1},16)}}});var Rt=at(Ot,[["__scopeId","data-v-34a242bd"]]);export{Rt as default};
