var K=Object.defineProperty,$=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var D=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&D(e,n,t[n]);if(I)for(var n of I(t))Q.call(t,n)&&D(e,n,t[n]);return e},b=(e,t)=>$(e,G(t));import{h as X,r as o,K as V,o as Y,b as Z,i as _,e as A,y as d,af as u,A as p,D as ee,g as i,E as B,u as q,aj as te,O as ne,d as z,p as oe,f as ie}from"./vendor.f6148a0a.js";import{_ as ae,d as ce,m as se,e as le}from"./index.3c0b9368.js";const F=e=>(oe("data-v-128d77d3"),e=e(),ie(),e),me=["src"],re={class:"quote-left"},de=F(()=>i("svg",{viewBox:"0 0 1024 1024"},[i("path",{d:"M928 512h-160v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16c-176.8 0-320 143.2-320 320v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z m-576 0H192v-128c0-70.6 57.4-128 128-128h16c26.6 0 48-21.4 48-48V112c0-26.6-21.4-48-48-48h-16C143.2 64 0 207.2 0 384v480c0 53 43 96 96 96h256c53 0 96-43 96-96V608c0-53-43-96-96-96z"})],-1)),ue=[de],ve={class:"quote-right"},ge=F(()=>i("svg",{viewBox:"0 0 1024 1024"},[i("path",{d:"M928 64H672c-53 0-96 43-96 96v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z m-576 0H96C43 64 0 107 0 160v256c0 53 43 96 96 96h160v128c0 70.6-57.4 128-128 128h-16c-26.6 0-48 21.4-48 48v96c0 26.6 21.4 48 48 48h16c176.8 0 320-143.2 320-320V160c0-53-43-96-96-96z"})],-1)),pe=[ge],he=X({props:{componentSetting:{type:Object,required:!0},element:{type:Object,required:!0}},setup(e){const t=e;te(c=>({"36c75768":q(j)}));const n=o(),s=o(),l=o(),m=o(""),h=o(""),f=o(""),r=o(""),S=o(""),w=o(!1),v=async()=>{try{const c=await fetch(`${ce}/api/movieLines`),{name:x,img:M,img1:k,img2:R,img3:H,img4:N,link:O,quotes:P}=await c.json();m.value=P,h.value=x,f.value=M.replace("s_ratio_poster","m");const C=[k,k,R,H,N].filter(Boolean),U=~~(Math.random()*C.length),g=C[U];window.innerWidth<768?r.value=g.replace("original","w780"):window.innerWidth<1460?r.value=g.replace("original","w1280"):r.value=g,S.value=O}catch{}};let a;const y=()=>{const c=(t.componentSetting.duration||5)*60*1e3;a&&(window.clearInterval(a),a=null),a=window.setInterval(v,c)};V(()=>t.componentSetting.duration,()=>y(),{immediate:!0}),Y(()=>v()),Z(()=>a&&window.clearInterval(a));const W=_(()=>se(t.componentSetting.position)),j=_(()=>t.componentSetting.themeColor);V(()=>m.value,()=>{n.value&&n.value.animate&&n.value.animate({opacity:[0,1]},400),s.value&&s.value.animate&&s.value.animate({opacity:[0,1]},400)});const E=()=>{w.value=!0,l.value&&l.value.animate&&l.value.animate({opacity:[0,1]},400)},L=()=>{t.componentSetting.clickActionType===1?(v(),y()):t.componentSetting.clickActionType===2?window.open(S.value):t.componentSetting.clickActionType===3&&le(m.value)&&ne({title:"\u63D0\u793A",type:"success",message:"\u590D\u5236\u6210\u529F"})};return(c,x)=>(z(),A("div",{class:"wrapper",style:p(b(T({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},q(W)),{borderRadius:e.element.borderRadius+"px"}))},[e.componentSetting.showPoster?d((z(),A("img",{key:0,class:"bg",ref_key:"movieBg",ref:l,src:e.componentSetting.posterType===2?r.value:f.value,style:p({filter:e.componentSetting.posterFilter}),onLoad:E},null,44,me)),[[u,w.value]]):ee("",!0),i("blockquote",{class:"blockquote",style:p({background:e.componentSetting.showDecoration?"":"none",maxWidth:e.componentSetting.maxWidth?e.componentSetting.maxWidth+"px":"",cursor:e.componentSetting.clickActionType?"pointer":"default"}),onClick:L},[i("p",{class:"lines",ref_key:"linesText",ref:n},B(m.value),513),d(i("p",{class:"cite",ref_key:"movieText",ref:s},"\u300E "+B(h.value)+" \u300F",513),[[u,e.componentSetting.showCite]]),d(i("div",re,ue,512),[[u,e.componentSetting.showDecoration]]),d(i("div",ve,pe,512),[[u,e.componentSetting.showDecoration]])],4)],4))}});var ye=ae(he,[["__scopeId","data-v-128d77d3"]]);export{ye as default};
